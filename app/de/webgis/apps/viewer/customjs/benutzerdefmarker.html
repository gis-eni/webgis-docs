<!DOCTYPE html>

<html lang="de" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Benutzerdefinierte Marker &#8212; WebGIS 2025 Dokumentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../../../_static/basic_mod.css?v=d7bb20b6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/eni.css?v=d882a67f" />
    <script src="../../../_static/documentation_options.js?v=b6e8874b"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/translations.js?v=70a09b52"></script>
    <script src="../../../_static/js/eni.js?v=0ed9d6f8"></script>
    <script src="../../../_static/js/theme.js"></script>
    <script src="../../../_static/js/petite-vue.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../../../genindex.html" />
    <link rel="search" title="Suche" href="../../../search.html" />
    <link rel="next" title="Dynamische Inhalte" href="dynamic-content.html" />
    <link rel="prev" title="Allgemeines" href="allgemeines.html" /> 
  </head><body data-dark_mode_code_blocks="true">

<div id="top_nav">
    

    <nav>
        
            
        

        <p id="toggle_sidebar">
            <a href="#" title="Toggle sidebar">|||</a>
        </p>
        <h1><a href="../../../index.html" title="Go to homepage">WebGIS 2025 Dokumentation</a></h1>

        <a id="mode_toggle" href="#" @click.prevent="handleClick" :title="mode">
    <template v-if="mode == 'light'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_light"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M67.48,18.073c1.913,-1.912 1.913,-5.018 0,-6.931c-1.912,-1.912 -5.018,-1.912 -6.931,0l-6.798,6.799c-1.912,1.912 -1.912,5.018 0,6.931c1.913,1.912 5.018,1.912 6.931,-0l6.798,-6.799Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.728,61.108c1.912,-1.913 1.912,-5.018 -0,-6.931c-1.913,-1.913 -5.019,-1.913 -6.931,-0l-6.799,6.798c-1.912,1.913 -1.912,5.019 0,6.931c1.913,1.913 5.019,1.913 6.931,0l6.799,-6.798Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.682,54.177c-1.913,-1.913 -5.018,-1.913 -6.931,-0c-1.912,1.913 -1.912,5.018 0,6.931l6.798,6.798c1.913,1.913 5.019,1.913 6.931,0c1.913,-1.912 1.913,-5.018 0,-6.931l-6.798,-6.798Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M4.901,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,-0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M18.929,11.142c-1.912,-1.912 -5.018,-1.912 -6.931,0c-1.912,1.913 -1.912,5.019 0,6.931l6.799,6.799c1.912,1.912 5.018,1.912 6.931,-0c1.912,-1.913 1.912,-5.019 -0,-6.931l-6.799,-6.799Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.108,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c-0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c-0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'dark'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_dark"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.901,2.196 -4.901,4.901c0,2.705 2.197,4.901 4.901,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.662,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.989,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.732,61.103c1.91,-1.91 1.91,-5.011 0,-6.921l-0.009,-0.01c-1.91,-1.91 -5.012,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.909,1.91 5.011,1.91 6.92,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.672,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.52,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l-0,-0.01c-0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.901,2.196 -4.901,4.901c0,2.704 2.197,4.9 4.901,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.73,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 -0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.098,34.623c-2.699,0 -4.891,2.192 -4.891,4.892l-0,0.019c-0,2.699 2.192,4.891 4.891,4.891c2.7,0 4.892,-2.192 4.892,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.892,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'darkest'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_darkest"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><path d="M39.315,23.791c8.684,-0 15.734,7.05 15.734,15.733c0,8.684 -7.05,15.734 -15.734,15.734c-8.683,0 -15.733,-7.05 -15.733,-15.734c-0,-8.683 7.05,-15.733 15.733,-15.733Zm0,4.737c6.069,0 10.997,4.927 10.997,10.996c-0,6.069 -4.928,10.996 -10.997,10.996c-6.068,0 -10.996,-4.927 -10.996,-10.996c0,-6.069 4.928,-10.996 10.996,-10.996Z" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.216,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.9,2.196 -4.9,4.901c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.666,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.99,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.737,61.103c1.909,-1.91 1.909,-5.011 -0,-6.921l-0.01,-0.01c-1.91,-1.91 -5.011,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.91,1.91 5.011,1.91 6.921,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.676,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.524,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l0,-0.01c0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.216,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901c-0,2.704 2.196,4.9 4.9,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.734,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.103,34.623c-2.7,0 -4.892,2.192 -4.892,4.892l-0,0.019c-0,2.699 2.192,4.891 4.892,4.891c2.699,0 4.891,-2.192 4.891,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.891,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>
</a>

<script>
(function() {
    const LOCAL_STORAGE_KEY = 'piccoloThemeMode'

    var initialMode = localStorage.getItem(LOCAL_STORAGE_KEY)

    if (initialMode) {
        // Make sure the value in local storage is valid
        if (['light', 'dark', 'darkest'].indexOf(initialMode) == -1) {
            initialMode = 'light'
            localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
        }
    } else {
        // Check if the client prefers dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            initialMode = 'dark'
        } else {
            initialMode = 'light'
        }
        localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
    }

    document.documentElement.dataset.mode = initialMode

    PetiteVue.createApp({
        'mode': initialMode,
        handleClick() {
            let currentMode = this.mode

            if (currentMode == 'light') {
                this.mode = 'dark'
            } else if (currentMode == 'dark') {
                this.mode = 'darkest'
            } else if (currentMode == 'darkest') {
                this.mode = 'light'
            }

            document.documentElement.dataset.mode = this.mode
            localStorage.setItem(LOCAL_STORAGE_KEY, this.mode)

            console.log(this.mode)
        }
    }).mount('#mode_toggle')
})()
</script>
            <p class="mobile_search_link">
                <a href="../../../search.html" title="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 64" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2">
                        <path d="M14.873 40.009c-2.315-3.943-3.642-8.532-3.642-13.429C11.231 11.91 23.141 0 37.811 0s26.58 11.91 26.58 26.58-11.91 26.58-26.58 26.58a26.44 26.44 0 0 1-14.277-4.161L9.739 62.794a3.12 3.12 0 0 1-4.413 0L.913 58.382c-1.217-1.218-1.217-3.196 0-4.413l13.96-13.96zM37.811 8.054c10.225 0 18.526 8.301 18.526 18.526s-8.301 18.526-18.526 18.526-18.526-8.301-18.526-18.526S27.586 8.054 37.811 8.054z" fill="#fff" />
                    </svg>
                </a>
            </p>
        

        <div class="searchbox_wrapper">
            
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Schnellsuche</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Los" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
    </nav>
</div>

    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="caption" role="heading"><span class="caption-text">Inhaltsverzeichnis:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../run/index.html">WebGIS Anwendungen Ausführen</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../config/index.html">Konfiguration (Postinstallation)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">WebGIS Applikationen</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../cms/index.html">WebGIS CMS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/index.html">WebGIS API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../portal/index.html">WebGIS Portal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../map_builder/index.html">WebGIS MapBuilder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../app_builder/index.html">WebGIS AppBuilder</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">WebGIS Viewer</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../url-parameters/index.html">Parametrierter Aufruf des Karten Viewers</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">custom.js</a></li>
<li class="toctree-l3"><a class="reference internal" href="../layouts/index.html">Benutzerdefinierte Layouts</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../extended_config/index.html">Erweiterte Werkzeugkonfiguration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../annex/index.html">Anhang</a></li>
</ul>

        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="benutzerdefinierte-marker">
<h1>Benutzerdefinierte Marker<a class="headerlink" href="#benutzerdefinierte-marker" title="Link to this heading">¶</a></h1>
<p>Im WebGIS Viewer werden Ergebnisse standardmäßig mit einem <strong>blauen Marker</strong> markiert. In manchen Fällen soll jedoch ein anderes Symbol verwendet werden.</p>
<section id="allgemeine-vorgehensweise">
<h2>Allgemeine Vorgehensweise<a class="headerlink" href="#allgemeine-vorgehensweise" title="Link to this heading">¶</a></h2>
<p>Die Darstellung von <strong>Markern</strong> wird über das Objekt <code class="docutils literal notranslate"><span class="pre">webgis.markerIcons</span></code> in der <strong>WebGIS API</strong> gesteuert. Dieses Array enthält vordefinierte Marker, die über <strong>Schlüssel</strong> (Keys) angesprochen werden.</p>
<p><strong>Beispiel:</strong></p>
<p>Ein vordefinierter Marker für die aktuelle Position:</p>
<div class="highlight-JavaScript notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">markerIcons</span><span class="p">[</span><span class="s2">&quot;currentpos_red&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">webgis</span><span class="p">.</span><span class="nx">css</span><span class="p">.</span><span class="nx">imgResource</span><span class="p">(</span><span class="s1">&#39;position_red.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;markers&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">38</span><span class="p">,</span><span class="w"> </span><span class="mf">38</span><span class="p">],</span>
<span class="w">    </span><span class="nx">anchor</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">19</span><span class="p">,</span><span class="w"> </span><span class="mf">19</span><span class="p">],</span>
<span class="w">    </span><span class="nx">popupAnchor</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">20</span><span class="p">]</span>
<span class="p">};</span>
</pre></div>
</div>
<section id="eigenschaften-eines-marker-objekts">
<h3>Eigenschaften eines Marker-Objekts<a class="headerlink" href="#eigenschaften-eines-marker-objekts" title="Link to this heading">¶</a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Eigenschaft</strong></p></th>
<th class="head"><p><strong>Beschreibung</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">url</span></code></p></td>
<td><p>Eine <strong>Funktion</strong>, die die <strong>URL des Marker-Bildes</strong> zurückgibt. Wird <code class="docutils literal notranslate"><span class="pre">webgis.css.imgResource()</span></code> verwendet, muss das Bild im <strong>api5/content/api/img</strong>-Verzeichnis liegen. Der erste Parameter ist der <strong>Dateiname</strong>, der zweite der <strong>Unterordner</strong>. Falls das Marker-Bild nicht in diesem Verzeichnis liegt, kann eine <strong>absolute URL</strong> angegeben werden:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;http://myserver.com/markers/mein_marker.png&quot;</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">size</span></code></p></td>
<td><p>Die <strong>Größe des Markers</strong> in <strong>Pixel</strong>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">anchor</span></code></p></td>
<td><p>Die <strong>Koordinaten des Einfügepunkts</strong> im Bild (<strong>von links, oben</strong>) in <strong>Pixel</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">popupAnchor</span></code></p></td>
<td><p>Die <strong>Koordinaten der Infoblase</strong> relativ zum <strong>Einfügepunkt des Markers</strong> in <strong>Pixel</strong>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p><strong>Marker-Attribute</strong> wie <strong>Größe</strong> oder <strong>Einfügepunkt</strong> können auch als <strong>Funktionen</strong> definiert werden, wenn dynamische Anpassungen erforderlich sind.</p>
</div>
</section>
</section>
<section id="marker-fur-abfrageergebnisse">
<h2>Marker für Abfrageergebnisse<a class="headerlink" href="#marker-fur-abfrageergebnisse" title="Link to this heading">¶</a></h2>
<p>Die Marker für <strong>Abfrageergebnisse</strong> werden folgendermaßen definiert:</p>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="nx">markerIcons</span><span class="p">[</span><span class="s2">&quot;query_result&quot;</span><span class="p">][</span><span class="s2">&quot;default&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">webgis</span><span class="p">.</span><span class="nx">css</span><span class="p">.</span><span class="nx">imgResource</span><span class="p">(</span><span class="s1">&#39;marker_blue.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;markers&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">25</span><span class="p">,</span><span class="w"> </span><span class="mf">41</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">anchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">12</span><span class="p">,</span><span class="w"> </span><span class="mf">42</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">popupAnchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">index</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">42</span><span class="p">];</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Hierbei gilt:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">query_result</span></code>: Definiert Marker für Abfrageergebnisse.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code>: Wird verwendet, wenn keine spezielle Definition für eine bestimmte Abfrage vorliegt.</p></li>
<li><p>Größe und Einfügepunkt als Funktionen: Im Gegensatz zu statischen Werten werden diese <strong>dynamisch berechnet</strong>.</p></li>
</ul>
<p><strong>Funktionsparameter:</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parameter</strong></p></th>
<th class="head"><p><strong>Beschreibung</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">index</span></code></p></td>
<td><p>Fortlaufende <strong>Nummer des Suchergebnisses</strong>, für das der Marker geladen wird.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">feature</span></code></p></td>
<td><p>Das <strong>Feature-Objekt</strong> im <strong>GeoJSON-Format</strong>, für das der Marker angezeigt wird.</p></td>
</tr>
</tbody>
</table>
<p>Diese Parameter werden im Beispiel zwar übergeben, aber nicht genutzt.
Standardmäßig wird immer <strong>derselbe Marker</strong> für alle Ergebnisse gesetzt.</p>
</section>
<section id="uberschreiben-von-markern">
<h2>Überschreiben von Markern<a class="headerlink" href="#uberschreiben-von-markern" title="Link to this heading">¶</a></h2>
<p>Falls eine Seite auf die WebGIS API zugreift, können <strong>Marker-Eigenschaften</strong> nach dem Laden der Datei <strong>api.min.js</strong> überschrieben werden. Die Syntax entspricht der Standarddefinition, jedoch kann <code class="docutils literal notranslate"><span class="pre">this</span></code> nicht verwendet werden. Stattdessen erfolgt der Zugriff direkt über <code class="docutils literal notranslate"><span class="pre">webgis</span></code>.</p>
<p><strong>Beispiel:</strong> Ein benutzerdefinierter Marker mit eigenem Symbol:</p>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">markerIcons</span><span class="p">[</span><span class="s2">&quot;currentpos_red&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s2">&quot;http://myserver.com/markers/mein_super_marker_symbol.png&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">20</span><span class="p">,</span><span class="w"> </span><span class="mf">20</span><span class="p">],</span>
<span class="w">    </span><span class="nx">anchor</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">9</span><span class="p">,</span><span class="w"> </span><span class="mf">9</span><span class="p">],</span>
<span class="w">    </span><span class="nx">popupAnchor</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">10</span><span class="p">]</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>Das <code class="docutils literal notranslate"><span class="pre">markerIcons</span></code>-Array kann nicht mit <code class="docutils literal notranslate"><span class="pre">this</span></code> angesprochen werden und der Zugriff muss direkt über <code class="docutils literal notranslate"><span class="pre">webgis.markerIcons</span></code> erfolgen.</p>
</div>
<section id="marker-in-der-custom-js">
<h3>Marker in der custom.js<a class="headerlink" href="#marker-in-der-custom-js" title="Link to this heading">¶</a></h3>
<p>Der erste Wert, der in der <code class="docutils literal notranslate"><span class="pre">custom.js</span></code>-Datei überschrieben wird, ist der <strong>Standard-Marker für Abfrageergebnisse</strong>.</p>
<p><strong>Beispiel:</strong> Hier wird für jedes Abfrageergebnis anstelle des einfachen blauen Markers ein <strong>blauer Marker mit einer Zahl</strong> angezeigt.</p>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">markerIcons</span><span class="p">[</span><span class="s2">&quot;query_result&quot;</span><span class="p">][</span><span class="s2">&quot;default&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">webgis</span><span class="p">.</span><span class="nx">css</span><span class="p">.</span><span class="nx">imgResource</span><span class="p">(</span><span class="s1">&#39;marker_blue_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;markers&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">25</span><span class="p">,</span><span class="w"> </span><span class="mf">41</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">anchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">12</span><span class="p">,</span><span class="w"> </span><span class="mf">42</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">popupAnchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">42</span><span class="p">];</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>.
Die Zahl entspricht dem <strong>Index des Suchergebnisses</strong>.</p>
<p><strong>Funktionsweise:</strong></p>
<ul class="simple">
<li><p>Der Marker wird aus der Datei <code class="docutils literal notranslate"><span class="pre">marker_blue_i.png</span></code> im Ordner <strong>markers</strong> geladen wobei <code class="docutils literal notranslate"><span class="pre">i</span></code>  steht für den Index des Abfrageergebnisses (beginnend bei 0).</p></li>
<li><p>Damit die Nummerierung bei <code class="docutils literal notranslate"><span class="pre">1</span></code> startet, wird <code class="docutils literal notranslate"><span class="pre">(i</span> <span class="pre">+</span> <span class="pre">1)</span></code> verwendet:</p></li>
<li><p>Die verfügbaren Marker-Dateien befinden sich im Verzeichnis: <code class="docutils literal notranslate"><span class="pre">portal5/content/api/img/markers</span></code>.</p></li>
<li><p>Dort existieren Dateien mit den Namen <strong>marker_blue_1.png, marker_blue_2.png, …, marker_blue_1000.png</strong>.</p></li>
</ul>
<div class="highlight-Javascript notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;marker_blue_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;markers&#39;</span>
</pre></div>
</div>
<p>Das Ergebnis dieser Änderung sieht wie folgt aus:</p>
<img alt="../../../_images/image1.png" src="../../../_images/image1.png" />
<p>Die Marker erhalten eine fortlaufende Nummer, was für den Anwender sehr praktisch ist, da so eine optische Zuordnung zwischen Liste und Karte möglich ist. Das nächste Beispiel bezieht sich ausschließlich auf die Abfrage <code class="docutils literal notranslate"><span class="pre">gemeinden</span></code>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">markerIcons</span><span class="p">[</span><span class="s2">&quot;query_result&quot;</span><span class="p">][</span><span class="s2">&quot;gemeinden&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">f</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">Gemeinde</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;Graz&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nx">webgis</span><span class="p">.</span><span class="nx">css</span><span class="p">.</span><span class="nx">imgResource</span><span class="p">(</span><span class="s1">&#39;marker_circle_sketch_vertex_99.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;markers&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">webgis</span><span class="p">.</span><span class="nx">css</span><span class="p">.</span><span class="nx">imgResource</span><span class="p">(</span><span class="s1">&#39;marker_circle_sketch_vertex_&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;.png&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;markers&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">21</span><span class="p">,</span><span class="w"> </span><span class="mf">21</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">anchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">11</span><span class="p">,</span><span class="w"> </span><span class="mf">11</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">popupAnchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">11</span><span class="p">];</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Hier wird ebenfalls ein runder Marker mit fortlaufender Nummer verwendet. Allerdings wird hier direkt auf die Attribute des abgefragten Features zugegriffen. Im Beispiel wird einem Feature, bei dem das Attribut <code class="docutils literal notranslate"><span class="pre">Gemeinde</span></code> gleich <code class="docutils literal notranslate"><span class="pre">Graz</span></code> ist, ein fixer Marker mit der Nummer 99 zugewiesen.</p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Eishockey-Fans wissen, warum die Nummer 99 gewählt wurde.</p>
</div>
<p>Alle anderen Funktionen sind nicht vom Index oder vom Feature abhängig, da alle Marker gleich groß sind und den gleichen Einfügepunkt haben. Falls dies nicht der Fall ist, könnte man auch in diesen Funktionen das Feature abfragen und gegebenenfalls unterschiedliche Werte zurückgeben. Ein Beispiel für eine Zuordnung aufgrund von Feature-Eigenschaften könnte beispielsweise ein Thema <code class="docutils literal notranslate"><span class="pre">medizinische</span> <span class="pre">Einrichtungen</span></code> sein. So könnten unterschiedliche Marker für Ärzte, Krankenhäuser, Apotheken usw. verwendet werden.</p>
<p>Das Ergebnis aus diesem Beispiel würde etwa so aussehen:</p>
<img alt="../../../_images/image2.png" src="../../../_images/image2.png" />
<p>Die folgenden Beispiele betreffen nicht mehr die Marker selbst, sondern die Darstellung der Ergebnisliste. In dieser Liste wird immer nur eine Vorschau mit wenigen Attributen angezeigt. Diese Attribute entsprechen den ersten drei Attributen, nach denen für dieses Thema gesucht werden kann. WebGIS nimmt an, dass diese Attribute aussagekräftig für eine Vorschau sind. Falls eine andere Darstellung gewünscht ist, kann dies mit den folgenden Beispielen umgesetzt werden:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">hooks</span><span class="p">[</span><span class="s2">&quot;query_result_feature&quot;</span><span class="p">][</span><span class="s2">&quot;grundstuecke&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">map</span><span class="p">,</span><span class="w"> </span><span class="nx">$parent</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">,</span><span class="w"> </span><span class="nx">base</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">base</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span><span class="w"> </span><span class="nx">$parent</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">);</span>
<span class="w">    </span><span class="nx">webgis</span><span class="p">.</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;&lt;a style=&#39;color:gray;font-size:.9em&#39; href=&#39;http://bev.gv.at&#39; target=&#39;_blank&#39;&gt;(c) 2017 BEV&lt;/a&gt;&quot;</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$parent</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Der <code class="docutils literal notranslate"><span class="pre">Hook</span></code> wird aufgerufen, wenn ein Ergebnis für die Vorschau gerendert wird. Dabei werden die Karte, das Parent-HTML-Element, das Feature und die Ursprungs- bzw. Default-Funktion übergeben. Im Beispiel wird zunächst die Ursprungsfunktion aufgerufen, um das Rendering wie gewohnt auszuführen:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">base</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span><span class="w"> </span><span class="nx">$parent</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">);</span>
</pre></div>
</div>
<p>Dieser Funktion werden die gleichen Parameter übergeben - mit Ausnahme von <code class="docutils literal notranslate"><span class="pre">base</span></code> selbst. Anschließend wird einfach ein Link zum BEV mit einer Copyright-Meldung hinzugefügt. Das Ergebnis entspricht dem obigen Screenshot mit den blauen Markern. In der Liste ist hinter jedem Ergebnis der Link in grauer Farbe erkennbar. Natürlich könnte er auch in einer neuen Zeile platziert werden.</p>
<div class="admonition tip">
<p class="admonition-title">Tipp</p>
<p>Diese Methode ist besonders nützlich, wenn für eine Abfrage keine aussagekräftigen Attribute für eine Vorschau existieren.</p>
</div>
<p>Ein Beispiel hierfür ist ein Thema mit Baustellenfotos, die mit der Identify-Funktion in der Karte abgefragt werden können. Ein Feld <code class="docutils literal notranslate"><span class="pre">Vorschau</span></code> wird im CMS mit einer <code class="docutils literal notranslate"><span class="pre">Imageexpression</span></code> auf das Bild gesetzt. Um dieses Bild in der Vorschau anzuzeigen, kann folgender Code verwendet werden:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">hooks</span><span class="p">[</span><span class="s2">&quot;query_result_feature&quot;</span><span class="p">][</span><span class="s2">&quot;enetze_fotos&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">map</span><span class="p">,</span><span class="w"> </span><span class="nx">$parent</span><span class="p">,</span><span class="w"> </span><span class="nx">feature</span><span class="p">,</span><span class="w"> </span><span class="nx">base</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">$</span><span class="p">(</span><span class="nx">feature</span><span class="p">.</span><span class="nx">properties</span><span class="p">.</span><span class="nx">Vorschau</span><span class="p">).</span><span class="nx">appendTo</span><span class="p">(</span><span class="nx">$parent</span><span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
<p>Hier wird die <code class="docutils literal notranslate"><span class="pre">base</span></code>-Funktion nicht mehr aufgerufen, sondern das Bild direkt eingefügt. Das Ergebnis sieht folgendermaßen aus:</p>
<img alt="../../../_images/image3.png" src="../../../_images/image3.png" />
<p>Die Bilder erscheinen direkt in der Vorschau der Suchergebnisse. Klickt man auf ein Foto, wird in der Karte das entsprechende Marker-Popup sichtbar.</p>
</section>
<section id="dynamische-marker">
<h3>Dynamische Marker<a class="headerlink" href="#dynamische-marker" title="Link to this heading">¶</a></h3>
<p>Die oben gezeigten Beispiele verwenden statische Marker-Icons. Zusätzlich besteht die Möglichkeit, Marker dynamisch zu erzeugen. Dabei können die Größe und die Farben übergeben werden. Um für die Abfrageergebnisse dynamische Marker zu verwenden, würde der Eintrag in der <code class="docutils literal notranslate"><span class="pre">custom.js</span></code> folgendermaßen aussehen:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="nx">webgis</span><span class="p">.</span><span class="nx">markerIcons</span><span class="p">[</span><span class="s2">&quot;query_result&quot;</span><span class="p">][</span><span class="s2">&quot;default&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">url</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nx">webgis</span><span class="p">.</span><span class="nx">baseUrl</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/rest/numbermarker/&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">);</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">33</span><span class="p">,</span><span class="w"> </span><span class="mf">41</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">anchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">16</span><span class="p">,</span><span class="w"> </span><span class="mf">42</span><span class="p">];</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="nx">popupAnchor</span><span class="o">:</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">f</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">[</span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mf">42</span><span class="p">];</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="p">};</span>
</pre></div>
</div>
<p>Die URL für dynamische Marker lautet <code class="docutils literal notranslate"><span class="pre">{webgis-api-url}/rest/numbermarker</span></code> oder <code class="docutils literal notranslate"><span class="pre">{webgis-api-url}/rest/textmarker</span></code>, also beispielsweise: <code class="docutils literal notranslate"><span class="pre">https://api.webgiscloud.com/rest/numbermarker</span></code>. Der Unterschied zwischen <code class="docutils literal notranslate"><span class="pre">numbermarker</span></code> und <code class="docutils literal notranslate"><span class="pre">textmarker</span></code> besteht darin, dass beim <code class="docutils literal notranslate"><span class="pre">numbermarker</span></code> nur Zahlen übergeben werden dürfen. Beim <code class="docutils literal notranslate"><span class="pre">textmarker</span></code> können hingegen auch Texte übergeben werden. Falls der Text zu lang ist, wird er abgeschnitten.</p>
<p>Hier einige Beispiele für den Aufruf mit verschiedenen Eigenschaften:</p>
<p><strong>Marker mit Nummer:</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>https://api.webgiscloud.com/rest/numbermarker/42
</pre></div>
</div>
<p><strong>Marker mit bestimmter Größe (Standard: 33x41 px):</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>https://api.webgiscloud.com/rest/numbermarker/42?w=100&amp;h=120
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>Der Wert für die Höhe muss immer größer sein als die Breite!</p>
</div>
<p><strong>Marker mit benutzerdefinierten Farben</strong> (Füllfarbe, Umrandungsfarbe, Textfarbe als RGB-Hex-Code, 3- oder 6-stellig):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>https://api.webgiscloud.com/rest/numbermarker/42?w=100&amp;h=120&amp;c=fff,f88,fcc
</pre></div>
</div>
<p><strong>Beispiele für Textmarker:</strong></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>https://api.webgiscloud.com/rest/textmarker/LoremIpsum?w=100&amp;h=120&amp;c=fff,f88,fcc&amp;fs=22
</pre></div>
</div>
<p>Hier wurde zusätzlich der Parameter <code class="docutils literal notranslate"><span class="pre">fs</span></code> (FontSize) übergeben, der die Textgröße in Pixel angibt.</p>
<div class="admonition note">
<p class="admonition-title">Bemerkung</p>
<p>Marker können auch für <em>dynamische Inhalte</em> angepasst werden. Die Vorgehensweise ist nahezu identisch mit den oben gezeigten Beispielen und wird im nächsten Kapitel erläutert. Die dort beschriebenen Techniken lassen sich ebenfalls auf die Marker von Abfragen anwenden.</p>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
    
        <div id="show_right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&lt;</span><span>Page contents</span></a></p>
        </div>

        <div id="right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&gt;</span><span>Page contents:</span></a></p>
            <div class="page_toc">
                <ul>
<li><a class="reference internal" href="#">Benutzerdefinierte Marker</a><ul>
<li><a class="reference internal" href="#allgemeine-vorgehensweise">Allgemeine Vorgehensweise</a><ul>
<li><a class="reference internal" href="#eigenschaften-eines-marker-objekts">Eigenschaften eines Marker-Objekts</a></li>
</ul>
</li>
<li><a class="reference internal" href="#marker-fur-abfrageergebnisse">Marker für Abfrageergebnisse</a></li>
<li><a class="reference internal" href="#uberschreiben-von-markern">Überschreiben von Markern</a><ul>
<li><a class="reference internal" href="#marker-in-der-custom-js">Marker in der custom.js</a></li>
<li><a class="reference internal" href="#dynamische-marker">Dynamische Marker</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        </div>
    

      <div class="clearer"></div>
    </div>
    <div class="button_nav_wrapper">
        <div class="button_nav">
            <div class="left">
                
                <a href="allgemeines.html">
                    <span class="icon">&lt;</span><span>Allgemeines</span></a>
                
            </div>

            <div class="right">
                
                    <a href="dynamic-content.html"><span>Dynamische Inhalte</span><span class="icon">&gt;</span></a>
                
            </div>
        </div>
    </div>


    <div class="footer" role="contentinfo">
    &#169; Copyright 2025, ENIE.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>

<p id="theme_credit">Styled using the <a href="https://github.com/piccolo-orm/piccolo_theme">Piccolo Theme</a></p>
  </body>
</html>